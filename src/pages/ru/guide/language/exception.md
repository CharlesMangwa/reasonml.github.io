---
title: Исключения
order: 175
---

Исключения — это всего лишь специальный вид вариант, выбрасываемый в **исключительных**
случаях (не злоупотребляйте ими).

### Использование

```reason
let getItem theList => {
  if (...) {
    /* вернуть найденый элемент */
  } else {
    raise Not_found
  }
};

let result = try (getItem [1, 2, 3]) {
| Not_found => print_endline "Item not found!"
};
```

Вы можете создавать ваши собственные исключения так же как создаете варианты (исключения
также должны начинаться с заглавной буквы).

```
exception InputClosed string;
...
raise (InputClosed "the stream has closed!");
```

### Советы и трюки

Так как у вас есть варианты, а обычно **не нужны** исключения. Например, вместо выбрасывания
исключения, когда элемент `item` не найден в коллекции, просто верните `option item` (`None`
в случае когда не найдено)

### Проектные решения

Совет выше выглядит противоречием тому, что происходит в стандартной библиотеке OCaml.
Функции в модулях [List](/api/List.html) и [String](/api/String.html) часто выбрасывают
исключения. Это сделано по историческим причинам и часто в угоду производительности.
Нативный код OCaml/Reason очень производителен и исключения сделаны так, чтобы быть дешевле
для алокации и выбрасывания чем `option`. Для JavaScript это не так.

Новые альтернативы стандартной библиотеке обычно используют возврат `option` вместо
выбрасывания исключений.
